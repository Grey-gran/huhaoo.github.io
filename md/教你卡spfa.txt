---
title: 教你卡spfa
date: 2019-05-10 15:48:35
mathjax: on
---

> 关于spfa
>
> 它死了

<!--more-->

### 一种简单的卡法

这时候你可以看出他的边是正遍历还是反遍历的

下面是正着遍历的卡法，反着遍历就把所有边顺序换一下

```
1 2 1
2 3 1
3 4 1
...
n-2 n-1 1
n-1 n 2
n-2 n 4
n-3 n 6
...
1 n 2n
n n+1 1
n n+2 1
...
n 2n inf
n+1 2n inf
n+2 2n inf
...
2n-1 2n inf
```

可以发现，spfa需要跑$O(n^2)$

### 效果没那么好但是适用范围广的

构造一个网格图，使得纵边的权值特别大而横边权值较小
